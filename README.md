# ğŸ¨ Mermaid Studio

**é«˜è´¨é‡çš„ Android Mermaid å›¾è¡¨ç¼–è¾‘å™¨**

ä¸€ä¸ªä¸“ä¸šçº§çš„ Mermaid å›¾è¡¨ç¼–è¾‘åº”ç”¨ï¼Œé‡‡ç”¨ç°ä»£åŒ–æ¶æ„è®¾è®¡ï¼Œæä¾› VS Code çº§åˆ«çš„ç¼–è¾‘ä½“éªŒã€‚

![Android](https://img.shields.io/badge/Android-24+-green.svg)
![Kotlin](https://img.shields.io/badge/Kotlin-2.0-purple.svg)
![Compose](https://img.shields.io/badge/Jetpack%20Compose-Material3-blue.svg)

---

## âœ¨ ç‰¹æ€§

### ğŸ¯ æ ¸å¿ƒåŠŸèƒ½
- **Monaco Editor** - VS Code åŒæ¬¾ä»£ç ç¼–è¾‘å™¨ï¼Œä¸“ä¸šçš„ä»£ç ç¼–è¾‘ä½“éªŒ
- **å®æ—¶é¢„è§ˆ** - è¾“å…¥ä»£ç å³æ—¶æ¸²æŸ“ Mermaid å›¾è¡¨
- **20+ å›¾è¡¨ç±»å‹** - æ”¯æŒæµç¨‹å›¾ã€æ—¶åºå›¾ã€ç±»å›¾ã€çŠ¶æ€å›¾ã€ERå›¾ç­‰
- **é˜²æŠ–æ¸²æŸ“** - æ™ºèƒ½å»¶è¿Ÿæ¸²æŸ“ï¼Œä¼˜åŒ–æ€§èƒ½

### ğŸ¨ ç²¾ç¾ UI
- **Material3 è®¾è®¡** - ç°ä»£åŒ–çš„ Material You è®¾è®¡è¯­è¨€
- **æ·±è‰²/æµ…è‰²ä¸»é¢˜** - è‡ªåŠ¨è·Ÿéšç³»ç»Ÿä¸»é¢˜
- **æ¨ªç«–å±é€‚é…** - æ¨ªå±åˆ†å±è§†å›¾ï¼Œç«–å±æ ‡ç­¾åˆ‡æ¢
- **æµç•…åŠ¨ç”»** - ç»†è…»çš„è¿‡æ¸¡åŠ¨ç”»æ•ˆæœ

### ğŸ—ï¸ é«˜è´¨é‡æ¶æ„
- **Clean Architecture** - æ¸…æ™°çš„åˆ†å±‚æ¶æ„
- **MVVM** - å“åº”å¼ UI çŠ¶æ€ç®¡ç†
- **Hilt DI** - ä¾èµ–æ³¨å…¥ï¼Œæ˜“äºæµ‹è¯•
- **Room æ•°æ®åº“** - æœ¬åœ°æŒä¹…åŒ–å­˜å‚¨

---

## ğŸ“ é¡¹ç›®ç»“æ„

```
app/src/main/java/com/mermaid/studio/
â”œâ”€â”€ MermaidStudioApp.kt          # åº”ç”¨å…¥å£
â”œâ”€â”€ MainActivity.kt               # ä¸»Activity
â”œâ”€â”€ ui/
â”‚   â”œâ”€â”€ MermaidApp.kt            # å¯¼èˆªä¸»ç»„ä»¶
â”‚   â”œâ”€â”€ screens/
â”‚   â”‚   â”œâ”€â”€ EditorScreen.kt      # ç¼–è¾‘å™¨ç•Œé¢
â”‚   â”‚   â””â”€â”€ EditorViewModel.kt   # ç¼–è¾‘å™¨çŠ¶æ€ç®¡ç†
â”‚   â””â”€â”€ theme/
â”‚       â”œâ”€â”€ Color.kt             # é¢œè‰²å®šä¹‰
â”‚       â”œâ”€â”€ Theme.kt             # ä¸»é¢˜é…ç½®
â”‚       â””â”€â”€ Type.kt              # å­—ä½“æ’ç‰ˆ
â”œâ”€â”€ webview/
â”‚   â”œâ”€â”€ MonacoWebView.kt         # Monaco ç¼–è¾‘å™¨ç»„ä»¶
â”‚   â””â”€â”€ MermaidWebView.kt        # Mermaid æ¸²æŸ“ç»„ä»¶
â”œâ”€â”€ domain/
â”‚   â””â”€â”€ model/
â”‚       â””â”€â”€ Diagram.kt           # é¢†åŸŸæ¨¡å‹
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ local/
â”‚   â”‚   â”œâ”€â”€ DiagramDao.kt        # æ•°æ®è®¿é—®å¯¹è±¡
â”‚   â”‚   â”œâ”€â”€ MermaidDatabase.kt   # Room æ•°æ®åº“
â”‚   â”‚   â””â”€â”€ entity/
â”‚   â”‚       â””â”€â”€ DiagramEntity.kt # æ•°æ®å®ä½“
â”‚   â””â”€â”€ repository/
â”‚       â””â”€â”€ DiagramRepository.kt # æ•°æ®ä»“åº“
â”œâ”€â”€ di/
â”‚   â””â”€â”€ AppModule.kt             # Hilt ä¾èµ–æ³¨å…¥
â””â”€â”€ util/
    â””â”€â”€ JsUtils.kt               # JavaScript å·¥å…·ç±»
```

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- JDK 11+
- Android SDK 35
- Gradle 8.7

### æ„å»ºæ­¥éª¤

```bash
# å…‹éš†é¡¹ç›®
cd /home/shuai/vs_projects/mermaid_app/vop45

# æ„å»º Debug APK
./gradlew assembleDebug

# APK ä½ç½®
# app/build/outputs/apk/debug/app-debug.apk
```

### å®‰è£…åˆ°è®¾å¤‡

```bash
# é€šè¿‡ ADB å®‰è£…
adb install -r app/build/outputs/apk/debug/app-debug.apk

# æˆ–ç›´æ¥è¿è¡Œ
./gradlew installDebug
```

---

## ğŸ“Š æ”¯æŒçš„å›¾è¡¨ç±»å‹

| ç±»å‹ | ç¤ºä¾‹ä»£ç å‰ç¼€ | æè¿° |
|------|-------------|------|
| æµç¨‹å›¾ | `graph TD` | æœ€å¸¸ç”¨çš„å›¾è¡¨ç±»å‹ |
| æ—¶åºå›¾ | `sequenceDiagram` | å±•ç¤ºå¯¹è±¡äº¤äº’ |
| ç±»å›¾ | `classDiagram` | UML ç±»å…³ç³»å›¾ |
| çŠ¶æ€å›¾ | `stateDiagram-v2` | çŠ¶æ€æœºå›¾ |
| ERå›¾ | `erDiagram` | å®ä½“å…³ç³»å›¾ |
| ç”˜ç‰¹å›¾ | `gantt` | é¡¹ç›®è®¡åˆ’å›¾ |
| é¥¼å›¾ | `pie` | æ•°æ®å æ¯”å›¾ |
| æ€ç»´å¯¼å›¾ | `mindmap` | æ€ç»´å‘æ•£å›¾ |
| æ—¶é—´çº¿ | `timeline` | æ—¶é—´çº¿å±•ç¤º |
| Gitå›¾ | `gitGraph` | Git åˆ†æ”¯å›¾ |
| ç”¨æˆ·æ—…ç¨‹ | `journey` | ç”¨æˆ·ä½“éªŒå›¾ |
| C4æ¶æ„å›¾ | `C4Context` | ç³»ç»Ÿæ¶æ„å›¾ |

---

## ğŸ› ï¸ æŠ€æœ¯æ ˆ

| æŠ€æœ¯ | ç‰ˆæœ¬ | ç”¨é€” |
|------|------|------|
| Kotlin | 2.0.20 | ä¸»å¼€å‘è¯­è¨€ |
| Jetpack Compose | 2024.09.02 | UI æ¡†æ¶ |
| Material3 | Latest | è®¾è®¡ç³»ç»Ÿ |
| Hilt | 2.51 | ä¾èµ–æ³¨å…¥ |
| Room | 2.6.1 | æœ¬åœ°æ•°æ®åº“ |
| Navigation Compose | 2.8.1 | å¯¼èˆªæ¡†æ¶ |
| Monaco Editor | 0.45.0 | ä»£ç ç¼–è¾‘å™¨ |
| Mermaid.js | 11.4.0 | å›¾è¡¨æ¸²æŸ“ |

---

## ğŸ“± ç•Œé¢é¢„è§ˆ

### æ¨ªå±æ¨¡å¼ï¼ˆåˆ†å±è§†å›¾ï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Mermaid Studio              [â†©] [â†ª] [+] [ä¿å­˜]â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                      â”‚                      â”‚
â”‚   Monaco Editor      â”‚   Mermaid Preview    â”‚
â”‚   (ä»£ç ç¼–è¾‘)         â”‚   (å›¾è¡¨é¢„è§ˆ)         â”‚
â”‚                      â”‚                      â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚     [æ¨¡æ¿]      [åˆ†äº«]      [å¯¼å‡º]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ç«–å±æ¨¡å¼ï¼ˆæ ‡ç­¾åˆ‡æ¢ï¼‰
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Mermaid Studio     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  [ç¼–è¾‘å™¨] â”‚ [é¢„è§ˆ]  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                     â”‚
â”‚   å½“å‰é€‰ä¸­é¢æ¿      â”‚
â”‚   (ç¼–è¾‘å™¨æˆ–é¢„è§ˆ)    â”‚
â”‚                     â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ [æ¨¡æ¿] [åˆ†äº«] [å¯¼å‡º]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¯ è®¾è®¡ç†å¿µ

### 1. ç®€æ´ä¼˜å…ˆ
- ç²¾ç®€çš„ä»£ç ç»“æ„ï¼Œæ²¡æœ‰è¿‡åº¦è®¾è®¡
- æ¯ä¸ªæ–‡ä»¶èŒè´£å•ä¸€ï¼Œæ˜“äºç†è§£
- æ¸…æ™°çš„å‘½åè§„èŒƒ

### 2. æ€§èƒ½ä¼˜åŒ–
- WebView ç”Ÿå‘½å‘¨æœŸç®¡ç†
- é˜²æŠ–æ¸²æŸ“å‡å°‘ä¸å¿…è¦çš„è®¡ç®—
- æŒ‰éœ€åŠ è½½èµ„æº

### 3. ç”¨æˆ·ä½“éªŒ
- å³æ—¶åé¦ˆçš„ç¼–è¾‘ä½“éªŒ
- å‹å¥½çš„é”™è¯¯æç¤º
- æµç•…çš„åŠ¨ç”»è¿‡æ¸¡

---

## ğŸ“ å¼€å‘æ—¥å¿—

- **v1.0.0** - åˆå§‹ç‰ˆæœ¬
  - âœ… Monaco Editor é›†æˆ
  - âœ… Mermaid.js æ¸²æŸ“
  - âœ… Material3 UI
  - âœ… Room æ•°æ®åº“
  - âœ… æ¨¡æ¿ç³»ç»Ÿ

---

## ğŸ“„ è®¸å¯è¯

MIT License

---

**Made with â¤ï¸ using Kotlin & Jetpack Compose**

